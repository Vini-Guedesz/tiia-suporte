
# Traceroute Parameters
traceroute.default.maxHops=30
traceroute.default.timeout=4000
traceroute.command.windows=tracert
traceroute.command.linux=traceroute

# Geolocalizacao API URL
# Note: Free tier of ip-api.com works with HTTP. HTTPS requires paid plan.
geolocalizacao.api.url=http://ip-api.com/json/

# Ping Commands
ping.command.windows=ping
ping.command.linux=ping

# Resilience4j Rate Limiter Configuration
# Geolocation API rate limiter (ip-api.com free tier: 45 requests/minute)
resilience4j.ratelimiter.instances.ipApi.limitForPeriod=40
resilience4j.ratelimiter.instances.ipApi.limitRefreshPeriod=60s
resilience4j.ratelimiter.instances.ipApi.timeoutDuration=10s

# Port Scan rate limiter (prevent abuse)
resilience4j.ratelimiter.instances.portScan.limitForPeriod=10
resilience4j.ratelimiter.instances.portScan.limitRefreshPeriod=60s
resilience4j.ratelimiter.instances.portScan.timeoutDuration=5s

# Traceroute rate limiter (prevent abuse and protect geolocation API)
resilience4j.ratelimiter.instances.traceroute.limitForPeriod=10
resilience4j.ratelimiter.instances.traceroute.limitRefreshPeriod=60s
resilience4j.ratelimiter.instances.traceroute.timeoutDuration=0s

# Resilience4j Circuit Breaker Configuration
resilience4j.circuitbreaker.instances.ipApi.registerHealthIndicator=true
resilience4j.circuitbreaker.instances.ipApi.slidingWindowSize=100
resilience4j.circuitbreaker.instances.ipApi.minimumNumberOfCalls=50
resilience4j.circuitbreaker.instances.ipApi.permittedNumberOfCallsInHalfOpenState=10
resilience4j.circuitbreaker.instances.ipApi.waitDurationInOpenState=10s
resilience4j.circuitbreaker.instances.ipApi.failureRateThreshold=90
resilience4j.circuitbreaker.instances.ipApi.slowCallRateThreshold=90
resilience4j.circuitbreaker.instances.ipApi.slowCallDurationThreshold=10s

# Cache Configuration
spring.cache.cache-names=geolocalizacao,domainInfo,dnsLookup
spring.cache.caffeine.spec=maximumSize=500,expireAfterWrite=600s

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics,circuitbreakers
management.endpoint.health.show-details=when-authorized
management.endpoint.health.show-components=when-authorized
management.metrics.enable.jvm=true
management.metrics.enable.process=true
management.metrics.enable.system=true
management.health.circuitbreakers.enabled=true
